<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
</head>
<body>
    <div id="myChart1" style="width: 800px; height: 600px;"></div>

    <script>
    // 创建 ECharts 实例
    var myChart1 = echarts.init(document.getElementById('myChart1'));
          var year =[2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021, 2022]
          var data = [
          [4095,2075,8517,5591,3301,7714,4090,4317,3870,10599,9091,8395,5002,
            5680,10598,12861,8283,7828,21053,6917,1767,2056,10277,4729,6472,642,5934,3959,816,855,2851],
          [4707,2077,8091,5141,3075,7060,3096,4350,3456,9757,10003,8356,4759,
            6640,9948,12349,7915,8354,20453,7005,1687,3849,11340,5328,5810,587,5152,3685,795,862,3024],
          [3879,2216,7465,5668,2875,5854,2892,4613,3415,9484,8358,8419,4518,
             5854,9970,12548,7195,8205,22238,6687,1726,3903,10725,5679,6095,652,5115,3983,814,900,2945],
          [3892,2362,8510,5880,3571,6116,3440,5223,3271,9843,7404,8662,4399,
            5992,12263,13276,7821,8389,21549,7350,1747,3857,11461,5279,7302,664,5517,3918,851,932,2881],
          [3434,2224,7397,5328,3415,5355,2940,4791,3103,9063,6981,7570,4207,
            5859,10634,12159,7885,8152,21475,7430,1645,3699,10583,5120,7063,649,5849,3801,856,889,3044],
          [3599,2563,7519,5315,2951,5385,2665,4258,3102,8558,6881,6826,4594,
            5633,9779,11841,8311,7996,19202,7284,1621,3424,10809,5254,7500,592,5460,3526,802,1037,2874],
          [3290,2151,7444,4797,2846,5125,2671,4099,3021,8647,6345,7600,4458,
            5878,8963,11082,8627,8027,19017,7126,1743,3691,9911,4886,6783,614,5667,3557,781,962,3066],
          [3067,2085,7011,4332, 2940, 4495, 2499, 3737, 2851, 8246, 6499, 
            6565, 3642, 5761, 8632, 11539, 7043, 7691, 20203, 6571, 1642, 3382, 9303, 4423, 6413, 576, 4722, 3381, 741, 812, 3011],
          [3876, 2155, 8872, 5367, 3154, 5589, 3175, 4189, 3402, 9671, 8250, 7560, 
            6202, 7843, 11266, 12167, 8366, 10500, 22050, 8280, 2004, 3992, 13800, 6971, 7350, 783, 5721, 3672, 903, 1022, 3542],
          [4298, 2294, 9884, 5682, 3469, 6340, 3453, 4654, 4732, 12218, 10683, 9277, 
            6880, 8182, 14278, 17102, 9470, 11141, 29166, 9920, 2206, 5571, 14066, 7132, 8570, 981, 6425, 3923, 1140, 1138, 4477],
          [4143, 2243, 10239, 5639, 3359, 6187, 3372, 4687, 4410, 11952, 10483, 9065, 
            6835, 8423, 14550, 17639, 9267, 11103, 28079, 9958, 2156, 5724, 14096, 6845, 8436, 910, 6174, 4004, 1130, 1143, 4530]
    ]
    // 指定图表的配置项和数据
    var option = {
        title: {
            text: '未婚人数',
        },
        tooltip: {},
        legend: {
            data: ['']
        },
        yAxis: {
            data: ['北京','天津','河北','山西','内蒙古','辽宁','吉林','黑龙江','上海','江苏','浙江','安徽',
            '福建','江西','山东','河南','湖北','湖南','广东','广西','海南','重庆','四川','贵州','云南','西藏',
            '陕西','甘肃','青海','宁夏','新疆'
            ],
            inverse: true,
        },
        xAxis: {},
        series: [{
            realtimeSort: true,
            name: '各城市人口',
            showBackground: true,
            label: {
                show: true,
                position: 'right',
                valueAnimation: true
            },
            stack: {},
            type: 'bar',
            data:[4095,2075,8517,5591,3301,7714,4090,4317,3870,10599,9091,8395,5002,
            5680,10598,12861,8283,7828,21053,6917,1767,2056,10277,4729,6472,642,5934,3959,816,855,2851],

        }],
        animationDuration: 0,
        animationDurationUpdate: 500,
        animationEasing: 'linear',
        animationEasingUpdate: 'linear'
    };

    // 使用刚指定的配置项和数据显示图表。
    myChart1.setOption(option);

    // 循环遍历数据，并逐步更新图表
    for (let i = 0; i < data.length; i++) {
    setTimeout(function() {
        var option1 = {
            title: {
                text: year[i].toString() + '年全国各省未婚人数',
                left:'center'
            },
            series: [{
                data: data[i]
            }]
        }
        myChart1.setOption(option1);
    }, 3000 * i);
}
    </script>
</body>
</html>

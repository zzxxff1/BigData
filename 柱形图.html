<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="js/echarts.min.js"></script>
		<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

	</head>
	<body>
		<div id="main" style="width: 1600px; height: 800px"></div>
		<script type="text/javascript">
			$(document).ready(function() {
				$.getJSON("data/marry_population.json", function(data) {
					data1 = JSON.parse(JSON.stringify(data));
					console.log(data1);
                    data1.sort(function (a, b) {
                        return a.value - b.value;
                    });
                    var xAxisData = [];
                    var seriesData = [];
                    for (var i = 0; i < data1.length; i++) {
                        xAxisData.push(data1[i].name);
                        seriesData.push(data1[i].value);
                    }
					var myChart = echarts.init(document.getElementById('main'));

					var option = {
                        xAxis: {
							type:'category',
                             data: xAxisData                     
                        },
                        yAxis: {
							type: 'value', 
                           
                        },
						roam:true,
						visualMap: {
					left: 'left',
					top:'top',
					min: 0,
					max: 35,
					inRange: {
						// prettier-ignore
						color: ['#313695', '#4575b4', '#74add1', '#abd9e9', '#e0f3f8', '#ffffbf', '#fee090', '#fdae61', '#f46d43', '#d73027', '#a50026']
     				 },
					text: ['High', 'Low'],
					calculable: true
					},
                        series: [{
                            data: seriesData,
                            type: 'bar'
                        },
						{
                            data: seriesData,
                            type: 'line'
                        }
					]
                    };
					
					myChart.setOption(option);


				}).fail(function() {
					console.log("An error has occurred.");
				});
			});
		</script>
	</body>
</html>
